#sidebar {
  position: fixed;
  left: -$off-canvas-width;
  top: 0;
  bottom: 0;
  width: $off-canvas-width;
  @include backface-visibility(hidden);
  background-color: $background-color;
  border-right: 1px solid $border-color-dark;
  box-shadow: 0 2px 1px rgba(0,0,0,0.2);
  @include transition(transform .5s cubic-bezier(0.42, 0, 0.58, 1.0));
  @include transition(-webkit-transform .5s cubic-bezier(0.42, 0, 0.58, 1.0));

  .user-info {
    margin-right: -1px;
    position: relative;
    height: 10rem;
    background-color: rgba(0,0,0,0.7);

    .avatar {
      position: absolute;
      bottom: -($avatar-width / 2);
      left: 50%;
      margin-left: -($avatar-width / 2);
      display: block;
      width: $avatar-width;
      height: $avatar-width;
      border-radius: 50%;
      border: 3px solid #fff;

      &:hover {
        cursor: -webkit-zoom-in;
      }
    }

    .text { 
      opacity: 0; 
      top: 55%;
    }
  }

  .open {
    margin-right: 0;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 9999;
    height: auto;
    background-color: #fff;

    .avatar {
      top: 25%;
      margin-left: -($avatar-large / 2);
      bottom: auto;
      width: $avatar-large;
      height: $avatar-large;
      @include rotate(360deg);
      @include transition(all .6s cubic-bezier(0.42, 0, 0.58, 1.0));
    }

    .text {
      position: absolute;
      top: 25%;
      margin-top: $avatar-large + 1.8rem;
      left: 1.2rem;
      right: 1.2rem;
      display: block;
      border: 1px solid $main-color;
      padding: .5rem;
      border-radius: 4px;
      color: $main-color-dark;
      opacity: 1;
      @include transition(opacity 2s cubic-bezier(0.42, 0, 0.58, 1.0));
    }
  }

  ul {
    padding: ($avatar-width / 2) + 1.2rem 2rem 1.2rem 2rem;

    > li {
      > a {
        display: block;
        padding: .5rem 2rem;
        color: $text-color-dark;
        border-top: 1px solid $border-color;
        text-transform: uppercase;
        text-align: center;
      }
      &:last-child > a {
        border-bottom: 1px solid $border-color;
      }
    }
  }
}

#off-canvas-btn { 
  position: absolute;
  left: 15px;
  top: 50%;
  margin-top: -1.7em;
  z-index: 999;
  display: block;
  font-size: 10px;
  width: 3.4em; 
  height: 3.4em; 
  background: #fff; 
  border-radius: 0.3em; 

  &:before,
  &:after {
    position: absolute; 
    content: "";
    display: block;
    width: 1.9em;
    border-radius:0.1em;
  }

  &:before { 
    top: 1em; 
    left: 0.7em;
    border-top: 0.3em solid $off-canvas-btn-color;
    height: 1em; 
    margin: auto; 
    border-bottom: 0.3em solid $off-canvas-btn-color; 
  }

  &:after { 
    top: 2.4em; 
    left: 0.7em; 
    height: 0.3em; 
    background: $off-canvas-btn-color; 
    border-radius: 0.1em
  }
}

.off-canvas-wrap {
  width: 100%;
  @include backface-visibility(hidden);
  @include transition(transform .5s cubic-bezier(0.42, 0, 0.58, 1.0));
  @include transition(-webkit-transform .5s cubic-bezier(0.42, 0, 0.58, 1.0));
}

.active {
  .off-canvas-wrap {
    min-height: 100%;
    @include transform(translateX($off-canvas-width));
    @include transition(transform .5s cubic-bezier(0.42, 0, 0.58, 1.0));
    @include transition(-webkit-transform .5s cubic-bezier(0.42, 0, 0.58, 1.0));
  }

  #sidebar {
    @include transform(translateX($off-canvas-width));
    @include transition(transform .5s cubic-bezier(0.42, 0, 0.58, 1.0));
    @include transition(-webkit-transform .5s cubic-bezier(0.42, 0, 0.58, 1.0));
  }
}